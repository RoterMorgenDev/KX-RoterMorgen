add_namespace = rotermorgenGCW
country_event = { 
	id = rotermorgenGCW.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event rotermorgenGCW.1" }
	title = rotermorgenGCW.1.t
	desc = rotermorgenGCW.1.d
	
	trigger = {
		GER = {
			NOT = { has_completed_focus = GER_black_monday_aftermath }
		}
		date > 1936.11.1
	}
	hidden = yes
	fire_only_once = yes
	immediate = {
		GER = {
			country_event = {
				id = rotermorgenGCW.2
				days = 5
				}
		}
	}
}



country_event = { # companies crash
	id = rotermorgenGCW.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event rotermorgenGCW.2" }
	title = rotermorgenGCW.2.t
	desc = rotermorgenGCW.2.d
	picture = GFX_report_event_factories_empty_ger
	is_triggered_only = yes
	
	option = { # RebellioN? What nonsense
		name = rotermorgenGCW.2.a
		add_stability = -0.15
		hidden_effect = {
				country_event = {
				id = rotermorgenGCW.3
				days = 7
				}
		}
	}
}

country_event = { # Inform of mass poverty 
	id = rotermorgenGCW.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event rotermorgenGCW.3" }
	title = rotermorgenGCW.3.t
	desc = rotermorgenGCW.3.d
	picture = GFX_report_event_Arbeitslose
	is_triggered_only = yes
	
	option = { # RebellioN? What nonsense
		name = rotermorgenGCW.3.a
		add_stability = -0.05
		hidden_effect = {
				country_event = {
				id = rotermorgenGCW.4
				days = 9
				}
		}
	}
}

country_event = { # riots!
	id = rotermorgenGCW.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event rotermorgenGCW.4" }
	title = rotermorgenGCW.4.t
	desc = rotermorgenGCW.4.d
	picture = GFX_report_event_aufstaende
	is_triggered_only = yes
	
	option = { # RebellioN? What nonsense
		name = rotermorgenGCW.4.a
		add_stability = -0.20
		hidden_effect = {
				country_event = {
				id = rotermorgenGCW.5
				days = 14
				}
		}
	}
}

country_event = { # GRU setup
	id = rotermorgenGCW.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event rotermorgenGCW.5" }
	title = rotermorgenGCW.5.t
	desc = rotermorgenGCW.5.d
	picture = GFX_report_event_rebellion_germany
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		hidden_effect = {
		
			every_state = {
				limit = {
					is_core_of = "GER"
				}
				add_core_of = GRU
			}
			
			FRA = {
				transfer_state = 779
				transfer_state = 28
				}
			BEL = {
				transfer_state = 741
				}
			GRU = {
				transfer_state = 781
				transfer_state = 51
				transfer_state = 42
				transfer_state = 8
				transfer_state = 55
				transfer_state = 57
				transfer_state = 56
				transfer_state = 59
				transfer_state = 50
				transfer_state = 780
				inherit_technology = GER		
				add_equipment_to_stockpile = {
				type = infantry_equipment_2
				amount = 40000
				} 
				dd_equipment_to_stockpile = {
				type = support_equipment
				amount = 1000
				}
				add_manpower = 800000
				set_cosmetic_tag = GRU_REBELLION
				set_country_flag = GRU_LEFTYMOD
				set_country_flag = GRU_REBELLION
				set_country_flag = GRU_CW_START
				remove_all_ministers = yes
				add_ideas = {
					GRU_Ernst_Thaelmann_hog_syn
					GRU_Erich_Ollenhauer_for_rso
					GRU_Jakob_Kaiser_eco_syn
					GRU_Joseph_Goebbels_sec_tot
				}
				create_country_leader = {
							name = "Zentralkommando der Revolution"
							desc = "GRU_REB_DESC"
							picture = "gfx/leaders/GRU/ZKDR.tga"
							expire = "1965.1.1"
							ideology = syndicalist_subtype
				}
				create_country_leader = {
							name = "FAUD - Oberkommando"
							desc = "GRU_REB_DESC"
							picture = "gfx/leaders/GRU/FAUD.tga"
							expire = "1965.1.1"
							ideology = radical_socialist_subtype
				}
				create_country_leader = {
							name = "Nationalmarxistische Kampfverbände"
							desc = "GRU_REB_DESC"
							picture = "gfx/leaders/GRU/NMKF.tga"
							expire = "1965.1.1"
							ideology = totalist_subtype
				}
				
				create_country_leader = {
							name = "Konrad Adenauer"
							desc = "GRU_Adenauer_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Konrad_Adenauer.tga"
							expire = "1965.1.1"
							ideology = social_conservative_subtype
				}
				create_country_leader = {
							name = "Franz Blücher"
							desc = "GRU_bluecher_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Franz_Bluecher.tga"
							expire = "1965.1.1"
							ideology = social_liberal_subtype
				}
				
				
				
				set_politics = {
					ruling_party = syndicalist
					last_election = "1936.11.16"
					elections_allowed = no
				}
				set_popularities = {
				totalist = 20
				syndicalist = 30
				radical_socialist = 20
				social_democrat = 10
				social_liberal = 6
				market_liberal = 3
				social_conservative = 6
				authoritarian_democrat = 5
				}
				load_focus_tree = {
				tree = gru_totalist_CW
					
				}
				set_party_name = {
						ideology = totalist
						long_name = GRU_REBELLION_NM_B_PARTY
						name = GRU_REBELLION_NM_B_PARTY
				}
				set_party_name = {
						ideology = syndicalist
						long_name = GRU_REBELLION_PARTY
						name = GRU_REBELLION_PARTY
				}
				set_party_name = {
						ideology = radical_socialist
						long_name = GRU_REBELLION_FAUD_PARTY
						name = GRU_REBELLION_FAUD_PARTY
				}
				
				
				set_party_name = {
						ideology = social_liberal
						long_name = GRU_SOCLIB_PARTY_long
						name = GRU_SOCLIB_PARTY
				}
				set_party_name = {
						ideology = market_liberal
						long_name = GRU_MARLIB_PARTY_long
						name = GRU_MARLIB_PARTY
				}
				set_party_name = {
						ideology = social_conservative
						long_name = GRU_CONS_PARTY_long
						name = GRU_CONS_PARTY
				}
			}
			GER = {
				transfer_units_fraction= {
					target = GRU
					size = 0.5
					stockpile_ratio = 0.8
					army_ratio = 0.8
					navy_ratio = 0.5
					air_ratio = 0.5
					keep_unit_leaders_trigger = {
						NOT = { has_unit_leader_flag = my_test_flag }
					}
				}
			}
		}	
	}
	
	option = { # stay what you are
		name = rotermorgenGCW.5.a
		GER = {
			declare_war_on = {
				target = GRU
				type = annex_everything
			}
		}
	}
	
	option = { # fight for a future
		name = rotermorgenGCW.5.b
		GRU = {
			change_tag_from = GER
		}
		GER = {
			declare_war_on = {
				target = GRU
				type = annex_everything
			}
		}
	}
}

country_event = { 
	id = rotermorgenGCW.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event rotermorgenGCW.6" }
	title = rotermorgenGCW.6.t
	desc = rotermorgenGCW.6.d
	trigger = {
		GRU = {
			controls_state = 64
			has_country_flag = GRU_REBELLION
		}
		NOT = { country_exists = GER }
	}
	hidden = yes
	immediate = {
		GRU = {
			clr_country_flag = GRU_REBELLION
			separate_peace_all_wars = yes
			set_country_flag = GRU_GCW_ENDED
		}
	}
}



country_event = { # Occupation Intro
	id = rotermorgenGCW.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event rotermorgenGCW.10" }
	title = rotermorgenGCW.10.t
	desc = rotermorgenGCW.10.d
	picture = GFX_report_event_victory_cw
	is_triggered_only = yes
	
	option = { # SPD-r forms
		name = rotermorgenGCW.10.a
		INT = {
				add_to_faction = GRU
			}
		28 = {
		remove_core_of = GRU
		}
		hidden_effect = {
				country_event = {
				id = rotermorgenGCW.20
				days = 14
				}
		}
	}
}

country_event = { # SPD radikalize Forms
	id = rotermorgenGCW.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event rotermorgenGCW.20" }
	title = rotermorgenGCW.20.t
	desc = rotermorgenGCW.20.d

	is_triggered_only = yes
	
	option = { # SPD-r forms
		name = rotermorgenGCW.20.a
		hidden_effect = {
				country_event = {
				id = rotermorgenGCW.30
				days = 16
				}
		}
	}
}
country_event = { # FAUD-Reaorganises
	id = rotermorgenGCW.30
	immediate = { log = "[GetDateText]: [Root.GetName]: event rotermorgenGCW.30" }
	title = rotermorgenGCW.30.t
	desc = rotermorgenGCW.30.d

	is_triggered_only = yes
	
	option = { # FAUD
		name = rotermorgenGCW.30.a
		hidden_effect = {
				country_event = {
				id = rotermorgenGCW.40
				days = 17
				}
		}
	}
}
country_event = { # SMEPD forms
	id = rotermorgenGCW.40
	immediate = { log = "[GetDateText]: [Root.GetName]: event rotermorgenGCW.40" }
	title = rotermorgenGCW.40.t
	desc = rotermorgenGCW.40.d

	is_triggered_only = yes
	
	option = { # SMEPD forms
		name = rotermorgenGCW.40.a
		hidden_effect = {
				country_event = {
				id = rotermorgenGCW.50
				days = 13
				}
		}
	}
}

country_event = { # NMDVP Forms
	id = rotermorgenGCW.50
	immediate = { log = "[GetDateText]: [Root.GetName]: event rotermorgenGCW.50" }
	title = rotermorgenGCW.50.t
	desc = rotermorgenGCW.50.d

	is_triggered_only = yes
	
	option = { # NMDVP forms
		name = rotermorgenGCW.50.a
		hidden_effect = {
				country_event = {
				id = rotermorgenGCW.60
				days = 12
				}
		}
	}
}


country_event = { # congress_allowed
	id = rotermorgenGCW.60
	immediate = { log = "[GetDateText]: [Root.GetName]: event rotermorgenGCW.60" }
	title = rotermorgenGCW.60.t
	desc = rotermorgenGCW.60.d

	is_triggered_only = yes
	
	option = { # Occupation calls for election
		name = rotermorgenGCW.60.a
		hidden_effect = {
			set_country_flag = PARTIES_FORMED
		}
	}
}

country_event = { # CONGRESS
	id = rotermorgenGCW.70
	immediate = { log = "[GetDateText]: [Root.GetName]: event rotermorgenGCW.70" }
	title = rotermorgenGCW.70.t
	desc = rotermorgenGCW.70.d
	picture = GFX_report_event_Congress_pic
	is_triggered_only = yes
	
	option = { # NMDVP Victory
		name = rotermorgenGCW.70.a
		ai_chance = {
			factor = 25
		}
		hidden_effect = {
				kill_ideology_leader = totalist
				kill_ideology_leader = syndicalist
				kill_ideology_leader = radical_socialist
				set_country_flag = GRU_NMDVP_rule
				complete_national_focus = GRU_nmdvp_victory
				set_cosmetic_tag = GRU_NMDVP
				##parties##
				#obsolte tree for now
				#load_focus_tree = {
				#tree = gru_goebbels
				#	
				#}
				set_party_name = {
						ideology = totalist
						long_name = GRU_NMDVP_long
						name = GRU_NMDVP
				}
				create_country_leader = {
							name = "Josef Goebbels"
							desc = "GRU_GOEBBELS_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Josef_Goebbels_13.tga"
							expire = "1965.1.1"
							ideology = totalist_subtype
							traits = {
								gru_froncophobe
							}
				}
				#
				set_party_name = {
						ideology = syndicalist
						long_name = GRU_SEPD_long
						name = GRU_SEPD
				}
				create_country_leader = {
							name = "Wilhelm Pieck"
							desc = "GRU_PIECK_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Wilhelm_Pieck_I.tga"
							expire = "1965.1.1"
							ideology = syndicalist_subtype
				}
				#
				set_party_name = {
						ideology = social_democrat
						long_name = GRU_SPD_long
						name = GRU_SPD
				}
				create_country_leader = {
							name = "Karl Liebknecht"
							desc = "GRU_LIEBKNECHT_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Karl_Liebknecht.tga"
							expire = "1965.1.1"
							ideology = social_democrat_subtype
				}
				#
				set_party_name = {
						ideology = radical_socialist
						long_name = GRU_FAUD_long
						name = GRU_FAUD
				}
				create_country_leader = {
							name = "Rudolf Rocker"
							desc = "GRU_ROCKER_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Rudolf_Rocker_I.tga"
							expire = "1965.1.1"
							ideology = radical_socialist_subtype
				}
				########
				
				remove_all_ministers = yes
				add_ideas = {
					GRU_Joseph_Goebbels_hog_tot
					GRU_Bodo_Uhse_for_tot
					GRU_Gregor_Strasser_eco_tot
					GRU_MEMEMAN_sec_tot
				}
				set_politics = {
					ruling_party = totalist
					last_election = "1936.11.16"
					elections_allowed = no
				}
				add_popularity = {
					ideology = totalist
					popularity = 0.40
				}
		}
	}
	option = { # SMEPD Victory
		name = rotermorgenGCW.70.b
		ai_chance = {
			factor = 25
		}
		hidden_effect = {
				kill_ideology_leader = totalist
				kill_ideology_leader = syndicalist
				kill_ideology_leader = radical_socialist
				set_country_flag = GRU_SMEPD_rule
				complete_national_focus = GRU_sepd_victory
				set_cosmetic_tag = GRU_SEPD_A
				##parties##
				#obsolte tree for now
				#load_focus_tree = {
				#tree = gru_smepd
				#	
				#}
				set_party_name = {
						ideology = totalist
						long_name = GRU_NMDVP_long
						name = GRU_NMDVP
				}
				create_country_leader = {
							name = "Josef Goebbels"
							desc = "GRU_GOEBBELS_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Josef_Goebbels_13.tga"
							expire = "1965.1.1"
							ideology = totalist_subtype
				}
				#
				set_party_name = {
						ideology = syndicalist
						long_name = GRU_SEPD_long
						name = GRU_SEPD
				}
				create_country_leader = {
							name = "Wilhelm Pieck"
							desc = "GRU_PIECK_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Wilhelm_Pieck_I.tga"
							expire = "1965.1.1"
							ideology = syndicalist_subtype
				}
				#
				set_party_name = {
						ideology = social_democrat
						long_name = GRU_SPD_long
						name = GRU_SPD
				}
				create_country_leader = {
							name = "Karl Liebknecht"
							desc = "GRU_LIEBKNECHT_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Karl_Liebknecht.tga"
							expire = "1965.1.1"
							ideology = social_democrat_subtype
				}
				#
				set_party_name = {
						ideology = radical_socialist
						long_name = GRU_FAUD_long
						name = GRU_FAUD
				}
				create_country_leader = {
							name = "Rudolf Rocker"
							desc = "GRU_ROCKER_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Rudolf_Rocker_I.tga"
							expire = "1965.1.1"
							ideology = radical_socialist_subtype
				}
				########
				remove_all_ministers = yes
				add_ideas = {
					GRU_Ernst_Thaelmann_hog_syn
					GRU_Walter_Ulbricht_for_tot
					GRU_Jakob_Kaiser_eco_syn
					GRU_Willi_Muenzenberg_sec_tot
				}
				set_politics = {
					ruling_party = syndicalist
					last_election = "1936.11.16"
					elections_allowed = no
				}
				add_popularity = {
					ideology = syndicalist
					popularity = 0.60
				}
		}
	}
	option = { # FAUD Victory
		name = rotermorgenGCW.70.c
		ai_chance = {
			factor = 25
		}
		hidden_effect = {
				kill_ideology_leader = totalist
				kill_ideology_leader = syndicalist
				kill_ideology_leader = radical_socialist
				set_country_flag = GRU_FAUD_rule
				complete_national_focus = GRU_faud_victory
				set_cosmetic_tag = GRU_FAUD
				remove_all_ministers = yes
				#obsolte tree for now
				#load_focus_tree = {
				#tree = gru_FAUD
				#	
				#}
				add_ideas = {
					GRU_Helmut_Herzfeld_hog_syn
					GRU_Paul_Levi_for_syn
					GRU_Rudolf_Egelhofer_eco_syn
					GRU_Eugen_Levine_sec_syn
				}
				set_politics = {
					ruling_party = syndicalist
					last_election = "1936.11.16"
					elections_allowed = no
				}
				add_popularity = {
					ideology = syndicalist
					popularity = 0.60
				}
				kill_ideology_leader = social_democrat
				kill_ideology_leader = radical_socialist
				set_party_name = {
						ideology = totalist
						long_name = GRU_SEPD_long
						name = GRU_SEPD
				}
				create_country_leader = {
							name = "Wilhelm Pieck"
							desc = "GRU_PIECK_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Wilhelm_Pieck_I.tga"
							expire = "1965.1.1"
							ideology = totalist_subtype
				}
				set_party_name = {
						ideology = social_democrat
						long_name = GRU_SPD_long
						name = GRU_SPD
				}
				set_party_name = {
						ideology = radical_socialist
						long_name = GRU_SPDR_long
						name = GRU_SPDR
				}
				create_country_leader = {
							name = "Karl Liebknecht"
							desc = "GRU_LIEBKNECHT_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Karl_Liebknecht.tga"
							expire = "1965.1.1"
							ideology = radical_socialist_subtype
				}
				set_party_name = {
						ideology = syndicalist
						long_name = GRU_FAUD_long
						name = GRU_FAUD
				}
				create_country_leader = {
							name = "Rudolf Rocker"
							desc = "GRU_ROCKER_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Rudolf_Rocker_I.tga"
							expire = "1965.1.1"
							ideology = syndicalist_subtype
				}
		}
	}
	option = { # SPD Victory
		name = rotermorgenGCW.70.e
		ai_chance = {
			factor = 25
		}
		hidden_effect = {
				kill_ideology_leader = totalist
				kill_ideology_leader = syndicalist
				kill_ideology_leader = radical_socialist
				set_country_flag = GRU_SPD_rule
				complete_national_focus = GRU_spd_victory
				set_cosmetic_tag = GRU_REP
				#obsolte tree for now
				#load_focus_tree = {
				#tree = gru_SPD
				#	
				#}
				remove_all_ministers = yes
				add_ideas = {
					GRU_Heinrich_Brandler_hog_rso
					GRU_Erich_Ollenhauer_for_rso
					GRU_Hans_Reichenbach_eco_rso
					GRU_Franz_Oppenhoff_sec_rso
				}
				set_politics = {
					ruling_party = radical_socialist
					last_election = "1936.11.16"
					elections_allowed = no
				}
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.60
				}
				kill_ideology_leader = social_democrat
				kill_ideology_leader = radical_socialist
				##parties##
				set_party_name = {
						ideology = totalist
						long_name = GRU_NMDVP_long
						name = GRU_NMDVP
				}
				create_country_leader = {
							name = "Josef Goebbels"
							desc = "GRU_GOEBBELS_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Josef_Goebbels_13.tga"
							expire = "1965.1.1"
							ideology = totalist_subtype
				}
				#
				set_party_name = {
						ideology = syndicalist
						long_name = GRU_SEPD_long
						name = GRU_SEPD
				}
				create_country_leader = {
							name = "Wilhelm Pieck"
							desc = "GRU_PIECK_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Wilhelm_Pieck_I.tga"
							expire = "1965.1.1"
							ideology = syndicalist_subtype
				}
				#
				set_party_name = {
						ideology = radical_socialist
						long_name = GRU_SPDR_long
						name = GRU_SPDR
				}
				create_country_leader = {
							name = "Karl Liebknecht"
							desc = "GRU_LIEBKNECHT_DESC"
							picture = "gfx/leaders/GRU/Portrait_Germany_Karl_Liebknecht.tga"
							expire = "1965.1.1"
							ideology = radical_socialist_subtype
				}
				set_party_name = {
						ideology = social_democrat
						long_name = GRU_SPD_long
						name = GRU_SPD
				}
		}
	}
}